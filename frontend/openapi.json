{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/tours/{id}":{"get":{"tags":["tour-controller"],"operationId":"getTourById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourRes"}}}}}},"put":{"tags":["tour-controller"],"operationId":"updateTour","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TourUpdateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourRes"}}}}}},"delete":{"tags":["tour-controller"],"operationId":"deleteTour","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"}}}},"/api/admin/schedules/{id}/cancel":{"put":{"tags":["tour-schedule-controller"],"operationId":"cancelScheduledTour","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourScheduleRes"}}}}}}},"/api/admin/private-tours/requests/{id}":{"put":{"tags":["private-tour-request-controller"],"operationId":"updateRequestStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PrivateTourRequest"}}}}}}},"/api/webhooks/payment":{"post":{"tags":["webhook-controller"],"operationId":"handlePaymentWebhook","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/tours":{"get":{"tags":["tour-controller"],"operationId":"getAllTours","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TourRes"}}}}}}},"post":{"tags":["tour-controller"],"operationId":"createTour","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TourCreateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourRes"}}}}}}},"/api/private-tours/requests":{"post":{"tags":["private-tour-request-controller"],"operationId":"submitRequest","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivateTourRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/cart/items":{"post":{"tags":["cart-controller"],"operationId":"addItemToCart","parameters":[{"name":"cartId","in":"cookie","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartItemReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartRes"}}}}}}},"/api/bookings":{"get":{"tags":["booking-controller"],"operationId":"getAllBookings","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookingRes"}}}}}}},"post":{"tags":["booking-controller"],"operationId":"createBooking","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingCreateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingRes"}}}}}}},"/api/auth/register":{"post":{"tags":["auth-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/admin/users":{"post":{"tags":["user-controller"],"operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/admin/schedules":{"get":{"tags":["tour-schedule-controller"],"operationId":"getSchedulesForMonth","parameters":[{"name":"tourId","in":"query","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"year","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"month","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TourScheduleRes"}}}}}}},"post":{"tags":["tour-schedule-controller"],"operationId":"createScheduledTour","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TourScheduleCreateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourScheduleRes"}}}}}}},"/api/cart":{"get":{"tags":["cart-controller"],"operationId":"getCart","parameters":[{"name":"cartId","in":"cookie","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartRes"}}}}}}},"/api/bookings/{bookingId}":{"get":{"tags":["booking-controller"],"operationId":"getBookingById","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingRes"}}}}}}},"/api/availability":{"get":{"tags":["availability-controller"],"operationId":"getAvailability","parameters":[{"name":"tourId","in":"query","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"month","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/DayAvailability"}}}}}}}},"/api/admin/schedules/{id}":{"get":{"tags":["tour-schedule-controller"],"operationId":"getTourScheduleById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourScheduleRes"}}}}}},"delete":{"tags":["tour-schedule-controller"],"operationId":"deleteTourSchedule","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"}}}},"/api/admin/private-tours/requests":{"get":{"tags":["private-tour-request-controller"],"operationId":"getAllRequests","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PrivateTourRequest"}}}}}}}},"/api/cart/items/{itemId}":{"delete":{"tags":["cart-controller"],"operationId":"removeItemFromCart","parameters":[{"name":"cartId","in":"cookie","required":false,"schema":{"type":"string"}},{"name":"itemId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartRes"}}}}}}}},"components":{"schemas":{"TourUpdateReq":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"category":{"type":"string"},"priceAdult":{"type":"number"},"priceChild":{"type":"number"},"defaultMaxParticipants":{"type":"integer","format":"int32"},"durationHours":{"type":"integer","format":"int32"},"status":{"type":"string"}}},"TourRes":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"description":{"type":"string"},"category":{"type":"string"},"priceAdult":{"type":"number"},"priceChild":{"type":"number"},"defaultMaxParticipants":{"type":"integer","format":"int32"},"durationHours":{"type":"integer","format":"int32"},"status":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"TourScheduleRes":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"tourId":{"type":"string","format":"uuid"},"tourName":{"type":"string"},"startDatetime":{"type":"string","format":"date-time"},"maxParticipants":{"type":"integer","format":"int32"},"status":{"type":"string"},"assignedGuideId":{"type":"string","format":"uuid"},"assignedGuideName":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"PrivateTourRequest":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"user":{"$ref":"#/components/schemas/User"},"customerName":{"type":"string"},"customerEmail":{"type":"string"},"customerPhone":{"type":"string"},"requestedTourType":{"type":"string"},"requestedDatetime":{"type":"string","format":"date-time"},"numAdults":{"type":"integer","format":"int32"},"numChildren":{"type":"integer","format":"int32"},"specialRequests":{"type":"string"},"status":{"type":"string"},"quotedPrice":{"type":"number"},"paymentLinkId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"User":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"email":{"type":"string"},"passwordHash":{"type":"string"},"fullName":{"type":"string"},"nationality":{"type":"string"},"role":{"type":"string"},"authProvider":{"type":"string"},"providerId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"TourCreateReq":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"category":{"type":"string"},"priceAdult":{"type":"number"},"priceChild":{"type":"number"},"defaultMaxParticipants":{"type":"integer","format":"int32"},"durationHours":{"type":"integer","format":"int32"}}},"CartItemReq":{"type":"object","properties":{"tourId":{"type":"string","format":"uuid"},"tourDate":{"type":"string","format":"date"},"numAdults":{"type":"integer","format":"int32"},"numChildren":{"type":"integer","format":"int32"}}},"CartItemRes":{"type":"object","properties":{"itemId":{"type":"string","format":"uuid"},"tourId":{"type":"string","format":"uuid"},"tourName":{"type":"string"},"tourDate":{"type":"string","format":"date"},"numAdults":{"type":"integer","format":"int32"},"numChildren":{"type":"integer","format":"int32"},"priceAdult":{"type":"number"},"priceChild":{"type":"number"},"itemTotal":{"type":"number"}}},"CartRes":{"type":"object","properties":{"cartId":{"type":"string","format":"uuid"},"items":{"type":"array","items":{"$ref":"#/components/schemas/CartItemRes"}},"cartTotal":{"type":"number"}}},"BookingCreateReq":{"type":"object","properties":{"scheduleId":{"type":"string","format":"uuid"},"participants":{"type":"array","items":{"$ref":"#/components/schemas/ParticipantReq"}},"languageCode":{"type":"string"},"specialRequests":{"type":"string"}}},"ParticipantReq":{"type":"object","properties":{"fullName":{"type":"string"},"type":{"type":"string"}}},"BookingRes":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"userId":{"type":"string","format":"uuid"},"userFullName":{"type":"string"},"scheduleId":{"type":"string","format":"uuid"},"tourName":{"type":"string"},"tourDate":{"type":"string","format":"date"},"status":{"type":"string"},"subtotal":{"type":"number"},"taxAmount":{"type":"number"},"totalAmount":{"type":"number"},"languageCode":{"type":"string"},"specialRequests":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"participants":{"type":"array","items":{"$ref":"#/components/schemas/ParticipantRes"}}}},"ParticipantRes":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"fullName":{"type":"string"},"type":{"type":"string"}}},"RegisterReq":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"fullName":{"type":"string"}}},"LoginReq":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"TourScheduleCreateReq":{"type":"object","properties":{"tourId":{"type":"string","format":"uuid"},"startDatetime":{"type":"string","format":"date-time"},"maxParticipants":{"type":"integer","format":"int32"},"assignedGuideId":{"type":"string","format":"uuid"}}},"DayAvailability":{"type":"object","properties":{"status":{"type":"string"},"availableSlots":{"type":"integer","format":"int32"},"moonIllumination":{"type":"number","format":"double"}}}}}}