{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Storage","description":"File storage and management endpoints"},{"name":"Actuator","description":"Monitor and interact","externalDocs":{"description":"Spring Boot Actuator Web API Documentation","url":"https://docs.spring.io/spring-boot/docs/current/actuator-api/html/"}}],"paths":{"/api/schedules/{id}/cancel":{"put":{"tags":["tour-schedule-controller"],"operationId":"cancelScheduledTour","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourScheduleRes"}}}}}}},"/api/profile/me":{"get":{"tags":["profile-controller"],"operationId":"getCurrentUserProfile","parameters":[{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserRes"}}}}}},"put":{"tags":["profile-controller"],"operationId":"updateCurrentUserProfile","parameters":[{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileUpdateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserRes"}}}}}}},"/api/profile/me/password":{"put":{"tags":["profile-controller"],"operationId":"changePassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordChangeReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/bookings/{bookingId}":{"get":{"tags":["booking-controller"],"operationId":"getBookingById","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingRes"}}}}}},"put":{"tags":["booking-controller"],"operationId":"updateBookingDetails","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingClientUpdateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingRes"}}}}}}},"/api/admin/users/{userId}":{"get":{"tags":["user-controller"],"operationId":"getUserById","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserRes"}}}}}},"put":{"tags":["user-controller"],"operationId":"updateUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserRes"}}}}}},"delete":{"tags":["user-controller"],"operationId":"deleteUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK"}}}},"/api/admin/users/{userId}/password":{"put":{"tags":["user-controller"],"operationId":"adminChangePassword","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminPasswordChangeReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/admin/tours/{id}":{"get":{"tags":["tour-controller"],"operationId":"getTourByIdAdmin","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourRes"}}}}}},"put":{"tags":["tour-controller"],"operationId":"updateTour","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TourUpdateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourRes"}}}}}},"delete":{"tags":["tour-controller"],"operationId":"deleteTour","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK"}}}},"/api/admin/settings":{"get":{"tags":["system-settings-controller"],"operationId":"getSettings","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}},"put":{"tags":["system-settings-controller"],"operationId":"updateSettings","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/admin/private-tours/requests/{id}":{"put":{"tags":["private-tour-request-controller"],"operationId":"updateRequestStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PrivateTourRequest"}}}}}}},"/api/admin/bookings/{bookingId}":{"get":{"tags":["booking-controller"],"operationId":"getAdminBookingById","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingRes"}}}}}},"put":{"tags":["booking-controller"],"operationId":"updateAdminBooking","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingUpdateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingRes"}}}}}},"delete":{"tags":["booking-controller"],"operationId":"cancelAdminBooking","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK"}}}},"/api/webhooks/payment":{"post":{"tags":["webhook-controller"],"operationId":"handlePaymentWebhook","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/storage/upload":{"post":{"tags":["Storage"],"summary":"Upload a file to S3","description":"Upload an image or asset file to S3 storage","operationId":"uploadFile","parameters":[{"name":"folder","in":"query","required":false,"schema":{"type":"string","default":"general"}}],"requestBody":{"content":{"application/json":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"bearerAuth":[]}]}},"/api/schedules":{"get":{"tags":["tour-schedule-controller"],"operationId":"getSchedulesForMonth","parameters":[{"name":"tourId","in":"query","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"year","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"month","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TourScheduleRes"}}}}}}},"post":{"tags":["tour-schedule-controller"],"operationId":"createScheduledTour","parameters":[{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TourScheduleCreateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourScheduleRes"}}}}}}},"/api/private-tours/requests":{"post":{"tags":["private-tour-request-controller"],"operationId":"submitRequest","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivateTourRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/cart/items":{"post":{"tags":["cart-controller"],"operationId":"addItemToCart","parameters":[{"name":"cartId","in":"cookie","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartItemReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartRes"}}}}}}},"/api/bookings":{"get":{"tags":["booking-controller"],"operationId":"getAllBookings","parameters":[{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookingRes"}}}}}}},"post":{"tags":["booking-controller"],"operationId":"createBooking","parameters":[{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingCreateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingRes"}}}}}}},"/api/bookings/{bookingId}/confirm-mock":{"post":{"tags":["booking-controller"],"operationId":"confirmMockPayment","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingRes"}}}}}}},"/api/auth/register":{"post":{"tags":["auth-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/admin/users":{"get":{"tags":["user-controller"],"operationId":"getAllUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserRes"}}}}}}},"post":{"tags":["user-controller"],"operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserRes"}}}}}}},"/api/admin/tours":{"get":{"tags":["tour-controller"],"operationId":"getAllToursForAdmin","parameters":[{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TourRes"}}}}}}},"post":{"tags":["tour-controller"],"operationId":"createTour","parameters":[{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TourCreateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourRes"}}}}}}},"/api/admin/schedules":{"get":{"tags":["tour-schedule-admin-controller"],"operationId":"getSchedules","parameters":[{"name":"start","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"end","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TourScheduleRes"}}}}}}},"post":{"tags":["tour-schedule-admin-controller"],"operationId":"createSchedule","parameters":[{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TourScheduleCreateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourScheduleRes"}}}}}}},"/api/admin/schedules/generate":{"post":{"tags":["tour-schedule-admin-controller"],"operationId":"generateSchedules","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/admin/alerts/{id}/resolve":{"post":{"tags":["weather-alert-controller"],"operationId":"resolveAlert","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResolveAlertRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/admin/alerts/check":{"post":{"tags":["weather-alert-controller"],"operationId":"checkAlertsManually","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/admin/schedules/{id}":{"delete":{"tags":["tour-schedule-admin-controller"],"operationId":"cancelSchedule","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}},"patch":{"tags":["tour-schedule-admin-controller"],"operationId":"updateSchedule","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TourScheduleCreateReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourScheduleRes"}}}}}}},"/api/weather/forecast":{"get":{"tags":["weather-controller"],"operationId":"getForecast","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/tours":{"get":{"tags":["tour-controller"],"operationId":"getPublishedTours","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TourRes"}}}}}}}},"/api/tours/{tourId}/schedules":{"get":{"tags":["tour-schedule-public-controller"],"operationId":"getTourSchedules","parameters":[{"name":"tourId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"start","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"end","in":"query","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TourScheduleRes"}}}}}}}},"/api/tours/{id}":{"get":{"tags":["tour-controller"],"operationId":"getTourById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourRes"}}}}}}},"/api/tours/slug/{slug}":{"get":{"tags":["tour-controller"],"operationId":"getTourBySlug","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourRes"}}}}}}},"/api/storage/url":{"get":{"tags":["Storage"],"summary":"Get public URL for a file","description":"Get a presigned public URL for an S3 object","operationId":"getFileUrl","parameters":[{"name":"key","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"bearerAuth":[]}]}},"/api/storage/presigned-upload-url":{"get":{"tags":["Storage"],"summary":"Get presigned upload URL","description":"Generate a temporary URL for direct client upload to S3","operationId":"getPresignedUploadUrl","parameters":[{"name":"folder","in":"query","required":false,"schema":{"type":"string","default":"general"}},{"name":"filename","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"bearerAuth":[]}]}},"/api/schedules/{id}":{"get":{"tags":["tour-schedule-controller"],"operationId":"getTourScheduleById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TourScheduleRes"}}}}}},"delete":{"tags":["tour-schedule-controller"],"operationId":"deleteTourSchedule","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK"}}}},"/api/lunar/phase/{date}":{"get":{"tags":["lunar-controller"],"operationId":"getMoonPhaseForDate","parameters":[{"name":"date","in":"path","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MoonPhaseDTO"}}}}}}},"/api/lunar/next-full-moons":{"get":{"tags":["lunar-controller"],"operationId":"getNextFullMoons","parameters":[{"name":"count","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":5}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MoonPhaseDTO"}}}}}}}},"/api/lunar/calendar":{"get":{"tags":["lunar-controller"],"operationId":"getLunarCalendar","parameters":[{"name":"startDate","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"endDate","in":"query","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MoonPhaseDTO"}}}}}}}},"/api/cart":{"get":{"tags":["cart-controller"],"operationId":"getCart","parameters":[{"name":"cartId","in":"cookie","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartRes"}}}}}}},"/api/calendar/data":{"get":{"tags":["calendar-data-controller"],"operationId":"getCalendarData","parameters":[{"name":"startDate","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"endDate","in":"query","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/availability":{"get":{"tags":["availability-controller"],"operationId":"getAvailability","parameters":[{"name":"tourId","in":"query","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"month","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/DayAvailability"}}}}}}}},"/api/admin/schedules/{id}/participants":{"get":{"tags":["tour-schedule-admin-controller"],"operationId":"getScheduleParticipants","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/admin/reports/top-tours":{"get":{"tags":["reports-controller"],"operationId":"getTopTours","parameters":[{"name":"startDate","in":"query","required":false,"schema":{"type":"string"}},{"name":"endDate","in":"query","required":false,"schema":{"type":"string"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}}}}}}},"/api/admin/reports/overview":{"get":{"tags":["reports-controller"],"operationId":"getOverview","parameters":[{"name":"startDate","in":"query","required":false,"schema":{"type":"string"}},{"name":"endDate","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/admin/reports/bookings-by-day":{"get":{"tags":["reports-controller"],"operationId":"getBookingsByDay","parameters":[{"name":"startDate","in":"query","required":false,"schema":{"type":"string"}},{"name":"endDate","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}}}}}}},"/api/admin/private-tours/requests":{"get":{"tags":["private-tour-request-controller"],"operationId":"getAllRequests","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PrivateTourRequest"}}}}}}}},"/api/admin/bookings":{"get":{"tags":["booking-controller"],"operationId":"getAdminBookings","parameters":[{"name":"currentUser","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookingRes"}}}}}}}},"/api/admin/audit-logs":{"get":{"tags":["audit-log-controller"],"operationId":"getAuditLogs","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}},{"name":"action","in":"query","required":false,"schema":{"type":"string"}},{"name":"entityType","in":"query","required":false,"schema":{"type":"string"}},{"name":"userEmail","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/admin/audit-logs/{id}":{"get":{"tags":["audit-log-controller"],"operationId":"getAuditLogById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuditLog"}}}}}}},"/api/admin/audit-logs/stats":{"get":{"tags":["audit-log-controller"],"operationId":"getAuditStats","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/admin/alerts":{"get":{"tags":["weather-alert-controller"],"operationId":"getPendingAlerts","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WeatherAlert"}}}}}}}},"/api/admin/alerts/{id}":{"get":{"tags":["weather-alert-controller"],"operationId":"getAlertById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WeatherAlert"}}}}}}},"/api/admin/alerts/schedule/{scheduleId}":{"get":{"tags":["weather-alert-controller"],"operationId":"getAlertsBySchedule","parameters":[{"name":"scheduleId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WeatherAlert"}}}}}}}},"/api/admin/alerts/history":{"get":{"tags":["weather-alert-controller"],"operationId":"getAlertsHistory","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WeatherAlert"}}}}}}}},"/api/admin/alerts/count":{"get":{"tags":["weather-alert-controller"],"operationId":"getPendingAlertsCount","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"integer","format":"int64"}}}}}}}},"/actuator":{"get":{"tags":["Actuator"],"summary":"Actuator root web endpoint","operationId":"links","responses":{"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Link"}}}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Link"}}}},"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Link"}}}}}}}}},"/actuator/info":{"get":{"tags":["Actuator"],"summary":"Actuator web endpoint 'info'","operationId":"info","responses":{"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object"}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object"}},"application/json":{"schema":{"type":"object"}}}}}}},"/actuator/health":{"get":{"tags":["Actuator"],"summary":"Actuator web endpoint 'health'","operationId":"health","responses":{"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object"}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object"}},"application/json":{"schema":{"type":"object"}}}}}}},"/actuator/health/**":{"get":{"tags":["Actuator"],"summary":"Actuator web endpoint 'health-path'","operationId":"health-path","responses":{"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object"}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object"}},"application/json":{"schema":{"type":"object"}}}}}}},"/api/storage/{folder}/{filename}":{"delete":{"tags":["Storage"],"summary":"Delete a file from S3","description":"Delete an uploaded file from S3 storage","operationId":"deleteFile","parameters":[{"name":"folder","in":"path","required":true,"schema":{"type":"string"}},{"name":"filename","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"bearerAuth":[]}]}},"/api/cart/items/{itemId}":{"delete":{"tags":["cart-controller"],"operationId":"removeItemFromCart","parameters":[{"name":"cartId","in":"cookie","required":false,"schema":{"type":"string"}},{"name":"itemId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartRes"}}}}}}}},"components":{"schemas":{"User":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"email":{"type":"string"},"passwordHash":{"type":"string"},"fullName":{"type":"string"},"nationality":{"type":"string"},"phoneNumber":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"role":{"type":"string"},"authProvider":{"type":"string"},"providerId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"deletedAt":{"type":"string","format":"date-time"},"deleted":{"type":"boolean"}}},"TourScheduleRes":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"tourId":{"type":"string","format":"uuid"},"tourName":{"type":"string"},"tourNameTranslations":{"type":"object","additionalProperties":{"type":"string"}},"tourDurationHours":{"type":"integer","format":"int32"},"startDatetime":{"type":"string","format":"date-time"},"maxParticipants":{"type":"integer","format":"int32"},"bookedParticipants":{"type":"integer","format":"int32"},"availableSpots":{"type":"integer","format":"int32"},"status":{"type":"string"},"assignedGuideId":{"type":"string","format":"uuid"},"assignedGuideName":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"ProfileUpdateReq":{"type":"object","properties":{"fullName":{"type":"string"},"nationality":{"type":"string"},"phoneNumber":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"}}},"UserRes":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"email":{"type":"string"},"fullName":{"type":"string"},"role":{"type":"string"},"nationality":{"type":"string"},"phoneNumber":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"authProvider":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"PasswordChangeReq":{"required":["currentPassword","newPassword"],"type":"object","properties":{"currentPassword":{"type":"string"},"newPassword":{"maxLength":2147483647,"minLength":8,"type":"string"}}},"BookingClientUpdateReq":{"required":["participants"],"type":"object","properties":{"specialRequests":{"type":"string"},"participants":{"type":"array","items":{"$ref":"#/components/schemas/ParticipantUpdateReq"}}}},"ParticipantUpdateReq":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"pickupAddress":{"type":"string"},"specialRequirements":{"type":"string"},"phoneNumber":{"type":"string"},"email":{"type":"string"}}},"BookingRes":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"userId":{"type":"string","format":"uuid"},"userFullName":{"type":"string"},"userPhoneNumber":{"type":"string"},"scheduleId":{"type":"string","format":"uuid"},"tourName":{"type":"string"},"tourDate":{"type":"string","format":"date"},"tourStartTime":{"$ref":"#/components/schemas/LocalTime"},"status":{"type":"string"},"subtotal":{"type":"number"},"taxAmount":{"type":"number"},"totalAmount":{"type":"number"},"languageCode":{"type":"string"},"specialRequests":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"participants":{"type":"array","items":{"$ref":"#/components/schemas/ParticipantRes"}}}},"LocalTime":{"type":"object","properties":{"hour":{"type":"integer","format":"int32"},"minute":{"type":"integer","format":"int32"},"second":{"type":"integer","format":"int32"},"nano":{"type":"integer","format":"int32"}}},"ParticipantRes":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"fullName":{"type":"string"},"documentId":{"type":"string"},"nationality":{"type":"string"},"age":{"type":"integer","format":"int32"},"pickupAddress":{"type":"string"},"specialRequirements":{"type":"string"},"phoneNumber":{"type":"string"},"email":{"type":"string"}}},"UserUpdateReq":{"type":"object","properties":{"fullName":{"type":"string"},"role":{"type":"string"},"nationality":{"type":"string"},"phoneNumber":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"}}},"AdminPasswordChangeReq":{"required":["newPassword"],"type":"object","properties":{"newPassword":{"maxLength":2147483647,"minLength":8,"type":"string"}}},"TourUpdateReq":{"type":"object","properties":{"nameTranslations":{"type":"object","additionalProperties":{"type":"string"}},"descriptionTranslations":{"type":"object","additionalProperties":{"type":"string"}},"imageUrls":{"type":"array","items":{"type":"string"}},"category":{"type":"string"},"price":{"type":"number"},"defaultMaxParticipants":{"type":"integer","format":"int32"},"durationHours":{"type":"integer","format":"int32"},"status":{"type":"string"},"contentKey":{"type":"string"},"windSensitive":{"type":"boolean"},"cloudSensitive":{"type":"boolean"},"moonSensitive":{"type":"boolean"},"isMoonSensitive":{"type":"boolean"},"isWindSensitive":{"type":"boolean"},"isCloudSensitive":{"type":"boolean"}}},"TourImageRes":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"imageUrl":{"type":"string"},"altTextTranslations":{"type":"object","additionalProperties":{"type":"string"}},"displayOrder":{"type":"integer","format":"int32"},"heroImage":{"type":"boolean"}}},"TourRes":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"slug":{"type":"string"},"nameTranslations":{"type":"object","additionalProperties":{"type":"string"}},"descriptionTranslations":{"type":"object","additionalProperties":{"type":"string"}},"category":{"type":"string"},"price":{"type":"number"},"defaultMaxParticipants":{"type":"integer","format":"int32"},"durationHours":{"type":"integer","format":"int32"},"status":{"type":"string"},"images":{"type":"array","items":{"$ref":"#/components/schemas/TourImageRes"}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"contentKey":{"type":"string"},"windSensitive":{"type":"boolean"},"cloudSensitive":{"type":"boolean"},"moonSensitive":{"type":"boolean"},"isMoonSensitive":{"type":"boolean"},"isWindSensitive":{"type":"boolean"},"isCloudSensitive":{"type":"boolean"}}},"PrivateTourRequest":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"user":{"$ref":"#/components/schemas/User"},"customerName":{"type":"string"},"customerEmail":{"type":"string"},"customerPhone":{"type":"string"},"requestedTourType":{"type":"string"},"requestedDatetime":{"type":"string","format":"date-time"},"numAdults":{"type":"integer","format":"int32"},"numChildren":{"type":"integer","format":"int32"},"specialRequests":{"type":"string"},"status":{"type":"string"},"quotedPrice":{"type":"number"},"paymentLinkId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"BookingUpdateReq":{"required":["status"],"type":"object","properties":{"status":{"type":"string"},"specialRequests":{"type":"string"}}},"TourScheduleCreateReq":{"type":"object","properties":{"tourId":{"type":"string","format":"uuid"},"startDatetime":{"type":"string","format":"date-time"},"maxParticipants":{"type":"integer","format":"int32"},"assignedGuideId":{"type":"string","format":"uuid"}}},"CartItemReq":{"type":"object","properties":{"scheduleId":{"type":"string","format":"uuid"},"numParticipants":{"type":"integer","format":"int32"}}},"CartItemRes":{"type":"object","properties":{"itemId":{"type":"string","format":"uuid"},"scheduleId":{"type":"string","format":"uuid"},"tourId":{"type":"string","format":"uuid"},"tourName":{"type":"string"},"numParticipants":{"type":"integer","format":"int32"},"pricePerParticipant":{"type":"number"},"itemTotal":{"type":"number"}}},"CartRes":{"type":"object","properties":{"cartId":{"type":"string","format":"uuid"},"items":{"type":"array","items":{"$ref":"#/components/schemas/CartItemRes"}},"cartTotal":{"type":"number"}}},"BookingCreateReq":{"type":"object","properties":{"scheduleId":{"type":"string","format":"uuid"},"participants":{"type":"array","items":{"$ref":"#/components/schemas/ParticipantReq"}},"languageCode":{"type":"string"},"specialRequests":{"type":"string"}}},"ParticipantReq":{"required":["documentId","fullName"],"type":"object","properties":{"fullName":{"type":"string"},"documentId":{"type":"string"},"nationality":{"type":"string"},"age":{"type":"integer","format":"int32"},"pickupAddress":{"type":"string"},"specialRequirements":{"type":"string"},"phoneNumber":{"type":"string"},"email":{"type":"string"}}},"RegisterReq":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"fullName":{"type":"string"},"nationality":{"type":"string"},"phoneNumber":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"}}},"LoginReq":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"UserCreateReq":{"required":["email","fullName","password","role"],"type":"object","properties":{"email":{"type":"string"},"fullName":{"type":"string"},"password":{"maxLength":2147483647,"minLength":8,"type":"string"},"role":{"type":"string"},"nationality":{"type":"string"},"phoneNumber":{"type":"string"}}},"TourCreateReq":{"type":"object","properties":{"nameTranslations":{"type":"object","additionalProperties":{"type":"string"}},"descriptionTranslations":{"type":"object","additionalProperties":{"type":"string"}},"imageUrls":{"type":"array","items":{"type":"string"}},"category":{"type":"string"},"price":{"type":"number"},"defaultMaxParticipants":{"type":"integer","format":"int32"},"durationHours":{"type":"integer","format":"int32"},"status":{"type":"string"},"contentKey":{"type":"string"},"windSensitive":{"type":"boolean"},"cloudSensitive":{"type":"boolean"},"moonSensitive":{"type":"boolean"},"isWindSensitive":{"type":"boolean"},"isMoonSensitive":{"type":"boolean"},"isCloudSensitive":{"type":"boolean"}}},"ResolveAlertRequest":{"type":"object","properties":{"resolution":{"type":"string"}}},"MoonPhaseDTO":{"type":"object","properties":{"date":{"type":"string","format":"date"},"phase":{"type":"number","format":"double"},"illumination":{"type":"integer","format":"int32"},"phaseName":{"type":"string"},"isFullMoon":{"type":"boolean"},"icon":{"type":"string"}}},"DayAvailability":{"type":"object","properties":{"status":{"type":"string"},"availableSlots":{"type":"integer","format":"int32"},"moonIllumination":{"type":"number","format":"double"}}},"AuditLog":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"user":{"$ref":"#/components/schemas/User"},"userEmail":{"type":"string"},"userRole":{"type":"string"},"action":{"type":"string"},"entityType":{"type":"string"},"entityId":{"type":"string","format":"uuid"},"entityDescription":{"type":"string"},"oldValues":{"type":"object","additionalProperties":{"type":"object"}},"newValues":{"type":"object","additionalProperties":{"type":"object"}},"ipAddress":{"type":"string"},"userAgent":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"Tour":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"owner":{"$ref":"#/components/schemas/User"},"nameTranslations":{"type":"object","additionalProperties":{"type":"string"}},"descriptionTranslations":{"type":"object","additionalProperties":{"type":"string"}},"images":{"type":"array","items":{"$ref":"#/components/schemas/TourImage"}},"windSensitive":{"type":"boolean"},"moonSensitive":{"type":"boolean"},"cloudSensitive":{"type":"boolean"},"contentKey":{"type":"string"},"slug":{"type":"string"},"category":{"type":"string"},"price":{"type":"number"},"defaultMaxParticipants":{"type":"integer","format":"int32"},"durationHours":{"type":"integer","format":"int32"},"defaultStartTime":{"$ref":"#/components/schemas/LocalTime"},"recurring":{"type":"boolean"},"recurrenceRule":{"type":"string"},"status":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"deletedAt":{"type":"string","format":"date-time"},"deleted":{"type":"boolean"}}},"TourImage":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"tour":{"$ref":"#/components/schemas/Tour"},"imageUrl":{"type":"string"},"altTextTranslations":{"type":"object","additionalProperties":{"type":"string"}},"displayOrder":{"type":"integer","format":"int32"},"heroImage":{"type":"boolean"}}},"TourSchedule":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"tour":{"$ref":"#/components/schemas/Tour"},"startDatetime":{"type":"string","format":"date-time"},"maxParticipants":{"type":"integer","format":"int32"},"status":{"type":"string"},"assignedGuide":{"$ref":"#/components/schemas/User"},"createdAt":{"type":"string","format":"date-time"}}},"WeatherAlert":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"tourSchedule":{"$ref":"#/components/schemas/TourSchedule"},"alertType":{"type":"string"},"severity":{"type":"string"},"message":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"status":{"type":"string"},"resolvedAt":{"type":"string","format":"date-time"},"resolvedBy":{"type":"string"},"resolution":{"type":"string"},"windSpeed":{"type":"number","format":"double"},"cloudCoverage":{"type":"integer","format":"int32"},"moonPhase":{"type":"number","format":"double"}}},"Link":{"type":"object","properties":{"href":{"type":"string"},"templated":{"type":"boolean"}}}}}}