spring.jpa.open-in-view=false
spring.application.name=backend-api
# Conexión a la Base de Datos (leída desde .env)
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}



# Configuración de Flyway (para migraciones de BD)
spring.jpa.hibernate.ddl-auto=update
jwt.secret=your-secret-key-that-is-long-enough-for-hs256
jwt.expiration=86400000
# Tasa de impuesto (IVA)
tax.rate=0.19

# Jackson configuration for proper BigDecimal serialization
# Ensures BigDecimal values are sent as plain strings in JSON (not scientific notation)
# This prevents floating-point precision issues on the frontend
spring.jackson.generator.write-bigdecimal-as-plain=true

# Initial Admin User Credentials (DEPRECATED - use admin.users.config instead)
# These credentials will be used to create the first Super Admin if none exists
# NOTA: Estas variables están obsoletas, pero se mantienen por compatibilidad
admin.email=${ADMIN_EMAIL:admin@northernchile.cl}
admin.fullName=${ADMIN_FULL_NAME:Admin Principal}
admin.password=${ADMIN_PASSWORD:supersecretpassword}

# Multi-Admin Users Configuration (NEW - Recommended)
# Format: email:password:role;email2:password2:role2;...
# Example: alex@example.com:pass123:ROLE_SUPER_ADMIN;diego@example.com:pass456:ROLE_PARTNER_ADMIN
# Roles: ROLE_SUPER_ADMIN, ROLE_PARTNER_ADMIN, ROLE_CLIENT
admin.users.config=${ADMIN_USERS_CONFIG:}

# Data Seeding Configuration
# Set to 'true' to populate database with synthetic tour data on startup
# This is useful for development, demos, and MVP presentations
# WARNING: Only seeds data if the database is empty (no tours exist)
seed.data=${SEED_DATA:false}



spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true

# Puerto del servidor
server.port=8080
spring.devtools.remote.restart.enabled=true
spring.devtools.remote.secret=tu-secreto-aqui

# Timezone Configuration
# Application timezone for Chile (handles DST automatically)
# UTC-04:00 in winter (April-September) and UTC-03:00 in summer (September-April)
app.timezone=America/Santiago

# Jackson Configuration for Timezone
# Send dates to frontend in Chile timezone with proper offset
spring.jackson.time-zone=America/Santiago
spring.jackson.serialization.write-dates-as-timestamps=false

# Hibernate/JPA Timezone Configuration
# Store all timestamps as UTC in the database (no conversion)
# This is critical when using TIMESTAMP (without timezone) columns
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
# Configuración de OpenAPI (Swagger)
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs
springdoc.show-actuator=true
springdoc.version=v0.0.1
springdoc.info.title=Northern Chile API
springdoc.info.description=API RESTful para la plataforma de tours Northern Chile.

# OpenWeatherMap 5 Day / 3 Hour Forecast API (Free Plan)
# Obtén tu API key en: https://home.openweathermap.org/api_keys
# Free tier: 60 calls/min, 1M calls/month, 5 days forecast
weather.api.key=${WEATHER_API_KEY:dummy}
weather.api.lat=-22.9083
weather.api.lon=-68.1999

# AWS S3 Configuration for Assets Storage
aws.accessKeyId=${AWS_ACCESS_KEY_ID}
aws.secretAccessKey=${AWS_SECRET_ACCESS_KEY}
aws.region=${AWS_REGION:sa-east-1}
aws.s3.bucketName=${AWS_S3_BUCKET_NAME:northern-chile-assets}

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Spring Boot Actuator Configuration
# Enable health endpoint (liveness and readiness probes for Kubernetes/Docker)
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.endpoint.health.probes.enabled=true
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true
# Base path for actuator endpoints
management.endpoints.web.base-path=/actuator
