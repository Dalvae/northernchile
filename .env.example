# Variables de Entorno para Docker Compose

# PostgreSQL
POSTGRES_USER=user
POSTGRES_PASSWORD=password
SPRING_DATASOURCE_URL=jdbc:postgresql://database:5432/northernchile_db
SPRING_DATASOURCE_USERNAME=user
SPRING_DATASOURCE_PASSWORD=password

# JWT
JWT_SECRET=change-me

# Cookie Configuration
# Set cookie.domain for cross-subdomain cookie sharing in production
# Example: .northernchile.com (with leading dot) allows cookies on www.northernchile.com and api.northernchile.com
# Leave empty for local development
COOKIE_DOMAIN=
# Set to true only for local development (allows non-HTTPS cookies)
COOKIE_INSECURE=false

# Security - Allowed redirect domains for payment URLs (comma-separated)
ALLOWED_REDIRECT_DOMAINS=http://localhost:3000,https://www.northernchile.com

# Spring DevTools remoto (solo dev, no usar en prod)
SPRING_REMOTE_SECRET=change-me

# Frontend
NUXT_PUBLIC_API_BASE_URL=http://localhost:8080
NUXT_PUBLIC_BASE_URL=http://localhost:3000

# Admin Credentials (DEPRECATED - use ADMIN_USERS_CONFIG instead)
ADMIN_EMAIL=admin@northernchile.cl
ADMIN_FULL_NAME=Administrador Principal
ADMIN_PASSWORD=Admin123!secure

# Multi-Admin Users Configuration (NEW - Recommended)
# Format: email:password:role;email2:password2:role2;...
# Example: admin1@example.com:SecurePassword123!:ROLE_SUPER_ADMIN;admin2@example.com:AnotherPass456!:ROLE_PARTNER_ADMIN
# Roles: ROLE_SUPER_ADMIN, ROLE_PARTNER_ADMIN, ROLE_CLIENT
# IMPORTANT: Use strong passwords and never commit real credentials to git!
ADMIN_USERS_CONFIG=

# Data Seeding Configuration
# Set to 'true' to populate database with synthetic tour data on startup
# Useful for development, demos, and MVP presentations
# WARNING: Only seeds data if the database is empty (no tours exist)
SEED_DATA=false
# Credenciales de APIs
GOOGLE_CLIENT_ID=TU_ID_DE_GOOGLE
GOOGLE_CLIENT_SECRET=TU_SECRETO_DE_GOOGLE

# OpenWeatherMap One Call API 3.0 - Obtén tu key en https://home.openweathermap.org/api_keys
# Provee pronóstico del tiempo (8 días) + datos astronómicos (fase lunar)
# Plan gratuito: 60 llamadas/min, 8 días de pronóstico con moon_phase incluido
WEATHER_API_KEY=TU_API_KEY_DE_OPENWEATHERMAP

# AWS S3 Configuration for assets storage
AWS_ACCESS_KEY_ID=TU_ACCESS_KEY_DE_AWS
AWS_SECRET_ACCESS_KEY=TU_SECRET_KEY_DE_AWS
AWS_REGION=sa-east-1
AWS_S3_BUCKET_NAME=northern-chile-assets

# Email Configuration (Amazon SES via HTTP API)
# Uses AWS SDK instead of SMTP to bypass port 465/587 blocks
# The AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY are reused from S3 config above
# Set AWS_SES_REGION only if different from AWS_REGION
AWS_SES_REGION=us-east-1
MAIL_FROM_EMAIL=noreply@northernchile.com
MAIL_FROM_NAME=Northern Chile Tours
MAIL_ENABLED=false

# Payment Providers Configuration

# Payment Test Mode (Global)
# Set to 'true' to mark all payments as test (excluded from financial reports)
# Set to 'false' for production (payments included in accounting)
# IMPORTANT: This overrides automatic detection. Use this when testing with production credentials.
PAYMENT_TEST_MODE=false

# Transbank (Webpay Plus - Chile)
# Get credentials at: https://www.transbankdevelopers.cl
# For testing, use integration credentials (pre-configured in SDK)
# For production, request credentials from Transbank
TRANSBANK_COMMERCE_CODE=597055555532
TRANSBANK_API_KEY=579B532A7440BB0C9079DED94D31EA1615BACEB56610332264630D42D0A36B1C
TRANSBANK_ENVIRONMENT=INTEGRATION

# Mercado Pago (Latin America, PIX - Brazil)
# Get credentials at: https://www.mercadopago.com/developers/panel
# Access Token: Your private access token
# Public Key: Your public key (for client-side integration)
MERCADOPAGO_ACCESS_TOKEN=TEST-ACCESS-TOKEN
MERCADOPAGO_PUBLIC_KEY=TEST-PUBLIC-KEY

# Webhook Security (optional - defaults to payment provider secrets)
# Used for signature verification to prevent replay attacks
# If not set, uses the payment provider's access token/API key
MERCADOPAGO_WEBHOOK_SECRET=
TRANSBANK_WEBHOOK_SECRET=
